config:
  target: 'http://httpbin.org/'
  phases:
    - duration: 18000
      arrivalRate: 1
      name: Soak test
  
  plugins:
    ensure:
      thresholds:
        - http.response_time.p95: 1000
        - http.response_time.max: 1500
      conditions:
        - expression: http.responses == 2
        - expression: http.response_time.max <1000 and http.response_time.2xx.p95 <500
scenarios:
  - name: Getting a resource
    flow:
      - get:
          url: "{{target}}post" 
      - post:
          url: "{{target}}post"  
          json:                     
            username: 'Goit'        
            password: '12345'      
          headers:                  
            Content-Type: 'application/json'   
          capture:                  
            - json: '$.json'        
              as: 'response_body'     
            - json: '$.headers.Host'  
              as: 'host'              
            - json: '$'             
              as: 'full_body'

#Endurance(veya Soak)— gerçek üretim yükünü simüle eden uzun süreli bir testtir. Bizim örneğimizde, sistem, yoğun saatlerde dakikada 100 kullanıcıyı 
#kaldırabilmelidir, ancak paydaşlar, günlük ortalama yükün daha düşük olduğunu ve dakikada 60 kullanıcıya denk geldiğini söylüyor.

#1 kullanıcı saniyede
#5 saat kesintisiz

