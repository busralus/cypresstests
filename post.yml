config:
  target: "http://httpbin.org/"
  phases:
    - duration: 1
      arrivalRate: 2
      name: post request
  plugins:
    ensure:
      thresholds:
        - http.response_time.p95: 1000
        - http.response_time.max: 1500
      conditions:
        - expression: http.responses == 2
        - expression: http.response_time.max <1000 and http.response_time.2xx.p95 <500


scenarios:
  - name: post
    flow:
      - post:
          url: "{{target}}post"      #10 boşluk
          json:                     #10 boşluk
            username: 'Goit'        #12 boşluk
            password: '12345'      #12 boşluk
          headers:                  #10 boşluk
            Content-Type: 'application/json'   #12 boşluk
          capture:                  #10 boşluk (json parametresi altındaki değerleri json formatında yazdırma komutu)
            - json: '$.json'        #12 boşluk - 1 boşluk
              as: 'response_body'     #15 boşluk
            - json: '$.headers.Host'  #12 boşluk - 1 boşluk (headers parametresindeki host değerini yazdıran komut)
              as: 'host'              #15 boşluk
            - json: '$'             #12 boşluk - 1 boşluk
              as: 'full_body'       #15 boşluk (tüm bodyi json formatında yazdırma komutu)
      - log: 'response body : {{response_body}}'
      - log: 'Host: {{host}}'
      - log: 'full body: {{full_body}}'
            